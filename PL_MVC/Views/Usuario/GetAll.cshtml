@model ML.Usuario
@{
    ViewData["Title"] = "GetAll";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h1>Usuarios</h1>


<div class="row">
    <div class="col-1">
        @Html.ActionLink("+", "Formulario", "Usuario", new { @class = "btn btn-success" })
    </div>
</div>

<div class="row">
    <div class="col-md-12">
        @if (Model.Usuarios != null)
        {
            <table class="table table-hover    table-bordered  table-responsive">
                <thead>
                    <tr>
                        <th scope="col">Editar              </th>
                        <th scope="col">IdUsuario           </th>
                        <th scope="col">Nombre             </th>
                        <th scope="col">Edad            </th>
                        <th scope="col">Foto              </th>
                      
                        <th scope="col">Eliminar              </th>
                      


                    </tr>

                </thead>

                <tbody>
                    @foreach (ML.Usuario usuario in Model.Usuarios)

                    {


                        <tr>

                            <td>
                                <a href="@Url.Action("Formulario", "Usuario", new { IdUsuario = usuario.IdUsuario })">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-pencil-square" viewBox="0 0 16 16">
                                        <path d="M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z" />
                                        <path fill-rule="evenodd" d="M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5z" />
                                    </svg>
                                </a>
                            </td>


                            <td>@usuario.IdUsuario</td>
                            <td>@usuario.Nombre @usuario.ApellidoPaterno @usuario.ApellidoMaterno</td>

                            <td>@usuario.Edad</td>
                          
                    

                            <td>
                                @if (usuario.Foto != null)
                                {

                                    <img style="width:200px; height:200px;" src="data:image/png;base64,@Convert.ToBase64String(usuario.Foto)" />
                                }
                                else
                                {
                                  
                                    <img id="ImgUsuarioInput" src="~/Imagenes/th.jpg" style="width:200px; height:200px;" />
                                }
                            </td>
                            
                            <td>
                                <a href="@Url.Action("Delete", "Usuario", new { IdUsuario = usuario.IdUsuario })">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-backspace-fill" viewBox="0 0 16 16">
                                        <path d="M15.683 3a2 2 0 0 0-2-2h-7.08a2 2 0 0 0-1.519.698L.241 7.35a1 1 0 0 0 0 1.302l4.843 5.65A2 2 0 0 0 6.603 15h7.08a2 2 0 0 0 2-2zM5.829 5.854a.5.5 0 1 1 .707-.708l2.147 2.147 2.146-2.147a.5.5 0 1 1 .707.708L9.39 8l2.146 2.146a.5.5 0 0 1-.707.708L8.683 8.707l-2.147 2.147a.5.5 0 0 1-.707-.708L7.976 8z" />
                                    </svg>
                                </a>
                            </td>

                        </tr>
                    }
                </tbody>
            </table>

        }


        else
        {
            <div class="alert alert-danger" role="alert">
                Ocurrió error al traer usuarios. Error:@ViewBag

            </div>
        }
    </div>
</div>